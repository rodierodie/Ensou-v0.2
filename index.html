<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChordPlayer</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="app" class="app">
        <!-- Заголовок -->
        <header class="header">
            <div class="logo">
                <div class="logo-square"></div>
                <h1>ChordPlayer</h1>
            </div>
            <div class="playback-controls">
                <div class="tempo-control">
                    <input type="number" id="tempo" min="40" max="240" value="120">
                    <span>BPM</span>
                </div>
                <div class="arpeggiator-toggle">
                    <span class="dot"></span>
                    <span>ARP: Off</span>
                </div>
                <div class="playback-buttons">
                    <button id="play-button" class="play-button">
                        <span class="play-icon"></span>
                    </button>
                    <button id="stop-button" class="stop-button">
                        <span class="stop-icon"></span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Управление блоками -->
        <div class="block-manager">
            <div class="block-tabs">
                <div class="block-tab active" data-block="A1">A1</div>
                <div class="block-tab" data-block="B1">B1</div>
                <div class="block-tab add-block">+</div>
            </div>
        </div>

        <!-- Основное содержимое -->
        <main class="main-content">
            <h2 class="block-title">A1</h2>
            <div class="block-actions">
                <button id="duplicate-block" class="button">+ Дублировать текущий блок</button>
            </div>

            <!-- Выбор тональности -->
            <div class="tonality-section">
                <div class="tonality-selectors">
                    <select id="tonality-note" class="select">
                        <option value="E">E (Ми)</option>
                        <!-- Другие ноты будут добавлены через JS -->
                    </select>
                    <select id="tonality-type" class="select">
                        <option value="moll">moll (Минор)</option>
                        <option value="dur">dur (Мажор)</option>
                    </select>
                    <button id="toggle-circle" class="button-link">× Скрыть круг тональностей</button>
                </div>

                <!-- Круг тональностей -->
                <div id="tonality-circle" class="tonality-circle">
                    <!-- Будет наполнен через JS -->
                </div>
            </div>

            <!-- Аккорды -->
            <div class="chords-section">
                <div class="basic-chords">
                    <h3>Основные аккорды</h3>
                    <div id="basic-chords-grid" class="chord-grid">
                        <!-- Будет наполнен через JS -->
                    </div>
                </div>

                <div class="seventh-chords">
                    <h3>Септаккорды</h3>
                    <div id="seventh-chords-grid" class="chord-grid">
                        <!-- Будет наполнен через JS -->
                    </div>
                </div>

                <!-- Информация об аккорде -->
                <div id="chord-info" class="chord-info">
                    <h3>Em (Ми минор)</h3>
                    <p>E, G, B</p>
                    <div class="chord-functions">
                        <div class="function-item">
                            <span class="function-badge tonic">T</span>
                            <span class="function-desc">(iii ступень) в тональности C</span>
                        </div>
                        <div class="function-item">
                            <span class="function-badge tonic">T</span>
                            <span class="function-desc">(i ступень) в тональности Em</span>
                        </div>
                        <!-- Другие функции будут добавлены через JS -->
                    </div>
                    <div class="chord-actions">
                        <button id="add-chord" class="button">+ Добавить аккорд</button>
                        <button id="add-pause" class="button">II Добавить паузу</button>
                        <button id="hide-info" class="button-link">Скрыть инфо</button>
                    </div>
                </div>
            </div>

            <!-- Секвенция -->
            <div class="sequence-section">
                <h3>Секвенция</h3>
                <div id="chord-sequence" class="chord-sequence">
                    <!-- Будет наполнен через JS -->
                </div>
                <div class="export-actions">
                    <button id="export-midi" class="button">Экспорт в MIDI</button>
                    <button id="export-text" class="button">Экспорт в текст</button>
                </div>
            </div>
        </main>

        <!-- Футер -->
        <footer class="footer">
            <span class="version">v1.0.0</span>
            <div class="import-export">
                <button id="import-project" class="button-link">Импорт</button>
                <button id="export-project" class="button-link">Экспорт</button>
            </div>
        </footer>
    </div>

    <!-- Загрузка скриптов -->
    <script src="https://cdn.jsdelivr.net/npm/tone@14.7.77/build/Tone.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/midi-writer-js@2.1.0/browser/midi-writer-js.min.js"></script>
    <script type="module" src="src/app.js"></script>
</body>
</html>